{% set article = get_page(path=page.extra.source) %}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 1200px;
    height: 630px;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
    background: #131212;
    color: #E3E3E3;
  }

  body { position: relative; }

  /* Soft mint glow top-right */
  .glow {
    position: absolute;
    width: 600px; height: 600px;
    top: -200px; right: -150px;
    background: radial-gradient(circle, rgba(138, 248, 167, 0.05) 0%, transparent 65%);
  }

  /* ─── Logo ─── */
  .logo {
    position: absolute;
    top: 48px; left: 64px;
    display: flex; align-items: center; gap: 14px;
    z-index: 1;
  }

  .logo img {
    height: 44px;
    width: 44px;
    border-radius: 10px;
  }

  .logo-name {
    font-size: 24px;
    font-weight: 600;
    color: #E3E3E3;
    letter-spacing: -0.3px;
  }

  .logo-blog {
    font-size: 13px;
    font-weight: 500;
    color: rgba(227, 227, 227, 0.35);
    margin-left: 6px;
    text-transform: uppercase;
    letter-spacing: 4px;
  }

  /* ─── Reading time ─── */
  .time-badge {
    position: absolute;
    top: 52px; right: 64px;
    display: flex; align-items: center; gap: 8px;
    font-size: 17px;
    font-weight: 500;
    color: rgba(227, 227, 227, 0.4);
    letter-spacing: 0.05em;
    z-index: 1;
  }

  .time-badge svg {
    width: 18px; height: 18px;
    opacity: 0.5;
  }

  /* ─── Horizontal rule ─── */
  .rule {
    position: absolute;
    top: 110px; left: 64px; right: 64px;
    height: 1px;
    background: rgba(255, 255, 255, 0.08);
    z-index: 1;
  }

  /* ─── Title ─── */
  .title {
    position: absolute;
    top: 145px; left: 64px;
    font-size: 62px;
    font-weight: 600;
    line-height: 1.12;
    letter-spacing: -1.5px;
    color: #E3E3E3;
    max-width: 820px;
    z-index: 1;
  }

  .title .hl {
    color: #8AF8A7;
  }

  /* ─── Code snippet ─── */
  .code-block {
    position: absolute;
    top: 355px; left: 64px;
    display: inline-flex; align-items: center; gap: 10px;
    background: rgba(138, 248, 167, 0.04);
    border: 1px solid rgba(138, 248, 167, 0.1);
    border-radius: 8px;
    padding: 12px 22px;
    font-size: 15px;
    font-weight: 500;
    color: rgba(227, 227, 227, 0.5);
    z-index: 1;
  }

  .code-block .p { color: #8AF8A7; }
  .code-block .c { color: rgba(227, 227, 227, 0.75); }
  .code-block .f { color: rgba(138, 248, 167, 0.7); }

  /* ─── Bottom rule ─── */
  .rule-bottom {
    position: absolute;
    top: 465px; left: 64px; right: 64px;
    height: 1px;
    background: rgba(255, 255, 255, 0.08);
    z-index: 1;
  }

  /* ─── Tags ─── */
  .tags {
    position: absolute;
    top: 495px; left: 64px;
    display: flex; gap: 12px;
    z-index: 1;
  }

  .tag {
    font-size: 17px;
    font-weight: 500;
    color: #8AF8A7;
    letter-spacing: 0.03em;
  }

  .tag-sep {
    color: rgba(227, 227, 227, 0.15);
    font-size: 17px;
  }

  /* ─── Cache viz ─── */
  .cache-viz {
    position: absolute;
    top: 489px; right: 64px;
    display: flex; align-items: center; gap: 14px;
    z-index: 1;
  }

  .cache-label {
    font-size: 16px;
    font-weight: 500;
    color: rgba(227, 227, 227, 0.3);
    letter-spacing: 0.05em;
    text-align: right;
    margin-bottom: 6px;
  }

  .cache-bar {
    width: 160px; height: 4px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 2px;
    overflow: hidden;
  }

  .cache-bar-fill {
    height: 100%; width: 89%;
    background: #8AF8A7;
    border-radius: 2px;
  }

  .cache-pct {
    font-size: 30px;
    font-weight: 700;
    color: #8AF8A7;
    letter-spacing: -1px;
  }

  /* ─── Footer ─── */
  .footer {
    position: absolute;
    top: 570px; left: 64px;
    font-size: 14px;
    font-weight: 500;
    color: rgba(227, 227, 227, 0.2);
    letter-spacing: 0.05em;
    z-index: 1;
  }
</style>
</head>
<body>
  <div class="glow"></div>

  <div class="logo">
    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgNTUuNzMxN1Y0LjI2ODI5QzAgMS45MDg1NCAxLjkwODU0IDAgNC4yNjgyOSAwSDU1LjczMTdDNTguMDkxNSAwIDYwIDEuOTA4NTQgNjAgNC4yNjgyOVY1NS43MzE3QzYwIDU4LjA5MTUgNTguMDkxNSA2MCA1NS43MzE3IDYwSDQuMjY4MjlDMS45MDg1NCA2MCAwIDU4LjA5MTUgMCA1NS43MzE3WiIgZmlsbD0iI0UzRTNFMyIvPgo8cGF0aCBkPSJNNDguMTIyIDE4LjA1NDlMMzEuMjg2NiA4LjMzNTM4QzMwLjA1NDkgNy42MjgwNiAyOC40ODE3IDguMDQ4OCAyNy43NzQ0IDkuMjc0NDFDMjcuMDYxIDEwLjUwNjEgMjcuNDg3OCAxMi4wNzkzIDI4LjcxMzQgMTIuNzg2Nkw0MS42ODkgMjAuMjgwNUwzMCAyNy4wMzA1TDE0LjQ1MTMgMTguMDU0OUMxMy4yMTk1IDE3LjM0MTUgMTEuNjQ2NCAxNy43NjgzIDEwLjkzOTEgMTguOTkzOUMxMC4yMjU2IDIwLjIyNTYgMTAuNjUyNSAyMS43OTg4IDExLjg3ODEgMjIuNTA2MUwyNy40MjY5IDMxLjQ4MTdWNDkuNDMyOUMyNy40MjY5IDUwLjg1MzcgMjguNTc5MyA1Mi4wMDYxIDMwIDUyLjAwNjFDMzEuNDIwOCA1Mi4wMDYxIDMyLjU3MzIgNTAuODUzNyAzMi41NzMyIDQ5LjQzMjlWMzEuNDgxN0wzOC41OTE1IDI4LjAwNjFMNDQuMjYyMiAyNC43MzE3VjM5LjcxMzRDNDQuMjYyMiA0MS4xMzQxIDQ1LjQxNDcgNDIuMjg2NiA0Ni44MzU0IDQyLjI4NjZDNDguMjU2MSA0Mi4yODY2IDQ5LjQwODYgNDEuMTM0MSA0OS40MDg2IDM5LjcxMzRWMjAuMjc0NEM0OS40MDg2IDE5LjM2NTkgNDguOTE0NyAxOC41MTgzIDQ4LjEyMiAxOC4wNTQ5WiIgZmlsbD0iIzEzMTIxMiIgc3Ryb2tlPSIjMTMxMjEyIi8+Cjwvc3ZnPgo=" alt="Hitbox">
    <span class="logo-name">hitbox</span>
    <span class="logo-blog">Blog</span>
  </div>

  <div class="time-badge">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"/>
      <polyline points="12 6 12 12 16 14"/>
    </svg>
    ~{{ article.reading_time }} min read
  </div>

  <div class="rule"></div>

  <div class="title">
    {% if article.extra.og_highlight %}
      {{ article.title | replace(from=article.extra.og_highlight, to='<span class="hl">' ~ article.extra.og_highlight ~ '</span>') | safe }}
    {% else %}
      {{ article.title }}
    {% endif %}
  </div>

  <div class="code-block">
    <span class="p">$</span>
    <span class="c">cargo add</span>
    <span class="f">hitbox hitbox-tower hitbox-http hitbox-moka</span>
  </div>

  <div class="rule-bottom"></div>

  <div class="tags">
    {% for tag in article.taxonomies.tags %}
      {% if not loop.first %}<span class="tag-sep">/</span>{% endif %}
      <span class="tag">{{ tag }}</span>
    {% endfor %}
  </div>

  <div class="cache-viz">
    <div>
      <div class="cache-label">cache hit</div>
      <div class="cache-bar"><div class="cache-bar-fill"></div></div>
    </div>
    <span class="cache-pct">89%</span>
  </div>

  <div class="footer">blog.hitbox.rs</div>
</body>
</html>
