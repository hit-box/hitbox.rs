{% extends "base.html" %}

{% block title %}{{ page.title }} â€” {{ config.title }}{% endblock %}
{% block description %}{{ page.description | default(value=config.description) }}{% endblock %}
{% block og_title %}{{ page.title }}{% endblock %}
{% block og_description %}{{ page.description | default(value=config.description) }}{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_url %}{{ page.permalink }}{% endblock %}
{% block og_image %}{% if page.extra.og_image %}<meta property="og:image" content="{{ get_url(path=page.extra.og_image) }}">{% endif %}{% endblock %}

{% block content %}

<article class="article grid">
  <a href="{{ config.base_url }}" class="article__back back-link">back to blog</a>

  <h1 class="article__title">{{ page.title }}</h1>

  <div class="article__meta">
    <time datetime="{{ page.date }}">{{ page.date | date(format="%Y-%m-%d") }}</time>
    {% if page.reading_time %}
    <span>~{{ page.reading_time }} min read</span>
    {% endif %}
  </div>

  <div class="article__line"></div>

  <div class="article__body">
    {% if page.taxonomies.tags %}
    <div class="margin-note article__tags-row">
      {% for tag in page.taxonomies.tags %}
      <a href="{{ get_taxonomy_url(kind='tags', name=tag) }}" class="tag">{{ tag }}</a>
      {% endfor %}
    </div>
    {% endif %}
    {{ page.content | safe }}
  </div>

  <div class="article__line"></div>

  <nav class="article__nav">
    <div>
      {% if page.earlier %}
      <a href="{{ page.earlier.permalink }}" class="article__nav-prev">{{ page.earlier.title }}</a>
      {% endif %}
    </div>
    <div>
      {% if page.later %}
      <a href="{{ page.later.permalink }}" class="article__nav-next">{{ page.later.title }}</a>
      {% endif %}
    </div>
  </nav>
</article>

{% endblock %}
