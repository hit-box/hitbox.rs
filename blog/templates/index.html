{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block content %}

{% set blog = get_section(path="blog/_index.md") %}

<div class="grid">
  <div class="intro">
    <p class="intro__text">{{ config.description }}</p>
  </div>

  {% if blog.pages %}
    {# Featured posts — first 2, large 2-column layout #}
    {% for page in blog.pages | slice(end=2) %}
      {{ macros::featured_post(page=page) }}
    {% endfor %}

    {# Post grid — remaining posts, 3-column small cards #}
    {% if blog.pages | length > 2 %}
      <div class="post-grid">
        {% for page in blog.pages | slice(start=2) %}
          {{ macros::grid_card(page=page) }}
        {% endfor %}
      </div>
    {% endif %}
  {% endif %}
</div>

{% endblock %}
